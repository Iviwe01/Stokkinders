<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StokKinders & ECD Funding Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF7D33;
            --primary-light: #FF9D5C;
            --primary-dark: #E05D00;
            --secondary: #4A90E2;
            --secondary-light: #6DA7EB;
            --secondary-dark: #2D76C9;
            --accent: #4CAF50;
            --accent-light: #6BC06F;
            --accent-dark: #3D8B40;
            --light: #F9F7F5;
            --dark: #2D2A26;
            --dark-light: #4A4540;
            --gold: #FFD700;
            --silver: #C0C0C0;
            --bronze: #CD7F32;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.16);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --border-radius: 12px;
            --border-radius-lg: 20px;
            --high-contrast-text: #000000;
            --high-contrast-bg: #FFFFFF;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            font-family: 'Poppins', sans-serif;
            line-height: 1.7;
            transition: var(--transition);
            overflow-x: hidden;
        }
        
        body.high-contrast {
            background-color: var(--high-contrast-bg);
            color: var(--high-contrast-text);
        }
        
        body.high-contrast .section {
            background-color: var(--high-contrast-bg) !important;
        }
        
        body.high-contrast .feature-card,
        body.high-contrast .page-card,
        body.high-contrast .ecd-card,
        body.high-contrast .stat-card,
        body.high-contrast .testimonial-card,
        body.high-contrast .form-container,
        body.high-contrast .dashboard-card {
            background-color: var(--high-contrast-bg) !important;
            border: 2px solid var(--high-contrast-text) !important;
            color: var(--high-contrast-text) !important;
        }
        
        body.high-contrast .progress {
            border: 1px solid var(--high-contrast-text);
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            line-height: 1.3;
            color: var(--dark);
        }
        
        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }
        
        /* Header & Navigation */
        header {
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Playfair Display', serif;
            display: flex;
            align-items: center;
        }
        
        .logo span {
            color: var(--secondary);
            margin-left: 0.3rem;
        }
        
        .logo i {
            margin-right: 0.5rem;
            font-size: 1.5rem;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }
        
        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: var(--transition);
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a:hover:after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 100%), 
                        url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80') center/cover no-repeat;
            color: white;
            text-align: center;
            padding: 10rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            position: relative;
            overflow: hidden;
        }
        
        .hero:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(255,125,51,0.2) 0%, transparent 50%);
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease;
        }
        
        .hero p {
            font-size: 1.3rem;
            max-width: 700px;
            margin-bottom: 3rem;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease 0.2s forwards;
            opacity: 0;
        }
        
        .hero-btns {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            position: relative;
            z-index: 1;
            animation: fadeInUp 1s ease 0.4s forwards;
            opacity: 0;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.9rem 2.2rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }
        
        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .btn:hover:before {
            left: 100%;
        }
        
        .btn i {
            margin-right: 0.5rem;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: var(--secondary-dark);
        }
        
        .btn-accent {
            background-color: var(--accent);
        }
        
        .btn-accent:hover {
            background-color: var(--accent-dark);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid white;
            color: white;
        }
        
        .btn-outline:hover {
            background-color: white;
            color: var(--primary);
        }
        
        /* Sections */
        .section {
            padding: 6rem 5%;
            position: relative;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--dark);
            font-size: 2.5rem;
            position: relative;
            padding-bottom: 1rem;
        }
        
        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin: 1rem auto;
            border-radius: 2px;
        }
        
        .section-subtitle {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 3rem;
            color: var(--dark-light);
            font-size: 1.2rem;
            line-height: 1.6;
        }
        
        /* Features Grid */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .feature-card {
            background-color: white;
            padding: 2.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            text-align: center;
            transition: var(--transition);
            border-top: 4px solid var(--primary);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,125,51,0.05) 0%, rgba(74,144,226,0.05) 100%);
            z-index: 0;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }
        
        .feature-card i {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.4rem;
            position: relative;
            z-index: 1;
        }
        
        .feature-card p {
            color: var(--dark-light);
            font-size: 1rem;
            position: relative;
            z-index: 1;
        }
        
        /* Page Cards */
        .pages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
        }
        
        .page-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
        }
        
        .page-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .page-image {
            height: 220px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .page-image:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.5));
        }
        
        .page-image h3 {
            color: white;
            z-index: 1;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            font-size: 2rem;
            text-align: center;
            padding: 0 1rem;
        }
        
        .page-content {
            padding: 2rem;
        }
        
        .page-content h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.5rem;
        }
        
        .page-content p {
            color: var(--dark-light);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        /* ECD Cards */
        .ecd-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 2rem;
        }
        
        .ecd-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
        }
        
        .ecd-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .ecd-image {
            height: 220px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .ecd-image:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.5));
        }
        
        .ecd-image h3 {
            color: white;
            z-index: 1;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            font-size: 2rem;
            text-align: center;
            padding: 0 1rem;
        }
        
        .ecd-content {
            padding: 1.8rem;
        }
        
        .ecd-content h3 {
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }
        
        .ecd-content p {
            color: var(--dark-light);
            margin-bottom: 0.5rem;
        }
        
        .progress {
            height: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin: 1.2rem 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
            border-radius: 5px;
            width: 0;
            transition: width 1s ease;
        }
        
        .ecd-needs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .need-tag {
            background-color: rgba(74, 144, 226, 0.1);
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--secondary);
            font-weight: 500;
            border: 1px solid rgba(74, 144, 226, 0.2);
        }
        
        /* Impact Stats */
        .impact-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .stat-card {
            background-color: white;
            padding: 2.5rem 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }
        
        .stat-card h2 {
            color: var(--primary);
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .stat-card p {
            color: var(--dark-light);
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        /* Testimonials */
        .testimonials {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }
        
        .testimonial-card {
            background-color: white;
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            position: relative;
            transition: var(--transition);
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }
        
        .testimonial-card:before {
            content: '"';
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 5rem;
            color: rgba(255, 125, 51, 0.1);
            font-family: Georgia, serif;
            line-height: 1;
            z-index: 0;
        }
        
        .testimonial-card p {
            font-style: italic;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
            color: var(--dark-light);
            line-height: 1.8;
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
        }
        
        .author-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #ddd;
            margin-right: 1.5rem;
            background-size: cover;
            background-position: center;
            border: 3px solid white;
            box-shadow: var(--shadow-sm);
        }
        
        .author-info h4 {
            margin-bottom: 0.3rem;
            color: var(--dark);
        }
        
        .author-info p {
            font-style: normal;
            font-size: 0.9rem;
            color: var(--dark-light);
            margin: 0;
        }
        
        /* Form Elements */
        .form-container {
            max-width: 700px;
            margin: 0 auto;
            background-color: white;
            padding: 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            position: relative;
            overflow: hidden;
        }
        
        .form-container:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .form-group {
            margin-bottom: 1.8rem;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 500;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            font-family: 'Poppins', sans-serif;
            background-color: #f9f9f9;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 125, 51, 0.2);
            background-color: white;
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .donation-cards {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .donation-card {
            flex: 1;
            min-width: 100px;
            padding: 1.2rem 0.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            color: var(--dark-light);
        }
        
        .donation-card.selected {
            border-color: var(--primary);
            background-color: rgba(255, 125, 51, 0.1);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        
        .radio-group {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .radio-option input {
            width: auto;
        }
        
        .radio-option span {
            font-weight: normal;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .tab {
            padding: 0.9rem 2rem;
            background-color: #f5f5f5;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            font-size: 1rem;
            border-radius: 50px;
            color: var(--dark-light);
        }
        
        .tab.active {
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-sm);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Volunteer Section */
        .volunteer-role {
            background-color: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border-left: 4px solid var(--secondary);
        }
        
        .volunteer-role:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .volunteer-role div strong {
            color: var(--dark);
            font-size: 1.1rem;
        }
        
        .volunteer-role div p {
            color: var(--dark-light);
            font-size: 0.95rem;
            margin-top: 0.3rem;
        }
        
        .volunteer-badge {
            background: linear-gradient(90deg, var(--secondary), var(--secondary-light));
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 50px;
            font-size: 0.8rem;
            display: inline-block;
            margin-left: 0.8rem;
            font-weight: 600;
        }
        
        .emergency-alert {
            background: linear-gradient(90deg, #ff6b6b, #ff5252);
            color: white;
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: var(--shadow-sm);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .emergency-alert i {
            font-size: 1.5rem;
        }
        
        .emergency-alert div strong {
            font-size: 1.1rem;
            display: block;
            margin-bottom: 0.3rem;
        }
        
        .emergency-alert div p {
            font-size: 0.95rem;
            margin: 0;
            opacity: 0.9;
        }
        
        /* Profile Section */
        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 3rem;
            text-align: center;
        }
        
        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: #ddd;
            margin-bottom: 1.5rem;
            background-size: cover;
            background-position: center;
            border: 4px solid white;
            box-shadow: var(--shadow-md);
        }
        
        .profile-name {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .profile-role {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .dashboard-card {
            background-color: white;
            padding: 1.8rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            text-align: center;
            transition: var(--transition);
        }
        
        .dashboard-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .dashboard-card h3 {
            color: var(--primary);
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .dashboard-card p {
            color: var(--dark-light);
            font-weight: 500;
        }
        
        .donation-history {
            margin-top: 2rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }
        
        .donation-item {
            display: flex;
            justify-content: space-between;
            padding: 1.2rem 1.5rem;
            border-bottom: 1px solid #f0f0f0;
            transition: var(--transition);
        }
        
        .donation-item:hover {
            background-color: #f9f9f9;
        }
        
        .donation-item:last-child {
            border-bottom: none;
        }
        
        .donation-amount {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        /* QR Code Section */
        .qr-code-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 1.5rem 0;
            padding: 2rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
        }
        
        .qr-code {
            width: 180px;
            height: 180px;
            margin: 1rem 0;
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #f0f0f0;
        }
        
        .qr-instructions {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            color: var(--dark-light);
            max-width: 300px;
        }
        
        /* SMS Donation */
        .sms-donation {
            background-color: #f5f9ff;
            padding: 1.8rem;
            border-radius: var(--border-radius);
            margin-top: 2rem;
            border-left: 4px solid var(--secondary);
        }
        
        .sms-donation h3 {
            margin-bottom: 1.2rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .sms-donation h3 i {
            color: var(--secondary);
        }
        
        .sms-donation p {
            margin-bottom: 1.2rem;
            color: var(--dark-light);
            line-height: 1.7;
        }
        
        .sms-donation-code {
            background-color: white;
            padding: 1.2rem;
            border-radius: 8px;
            font-family: monospace;
            text-align: center;
            margin: 1.5rem 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary);
            border: 1px dashed var(--secondary);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--dark), #1a1a1a);
            color: white;
            padding: 5rem 5% 3rem;
            text-align: center;
            position: relative;
        }
        
        footer:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-logo {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1.5rem;
            font-family: 'Playfair Display', serif;
        }
        
        .footer-logo span {
            color: var(--secondary-light);
        }
        
        .footer-content p {
            max-width: 700px;
            margin-bottom: 2rem;
            color: rgba(255,255,255,0.8);
            line-height: 1.7;
        }
        
        .footer-links {
            display: flex;
            gap: 2rem;
            margin: 2.5rem 0;
            list-style: none;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .footer-links a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .footer-links a:hover {
            color: white;
            text-decoration: underline;
        }
        
        .social-icons {
            display: flex;
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .social-icons a {
            color: white;
            font-size: 1.5rem;
            transition: var(--transition);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255,255,255,0.1);
        }
        
        .social-icons a:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .footer-app-btns {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .footer-app-btns .btn {
            padding: 0.8rem 1.5rem;
            font-size: 0.95rem;
        }
        
        .footer-bottom {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            width: 100%;
        }
        
        .footer-bottom p {
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        /* Accessibility Toolbar */
        .accessibility-toolbar {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            gap: 15px;
        }
        
        .accessibility-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            font-size: 1.2rem;
        }
        
        .accessibility-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            .section {
                padding: 5rem 5%;
            }
        }
        
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 3rem;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: block;
                background: none;
                border: none;
                font-size: 1.8rem;
                cursor: pointer;
                color: var(--dark);
                z-index: 1001;
            }
            
            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                height: 100vh;
                flex-direction: column;
                background-color: white;
                padding: 6rem 2rem 2rem;
                transition: all 0.4s ease;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
                z-index: 1000;
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .nav-links a {
                padding: 1rem 0;
                font-size: 1.1rem;
            }
            
            .hero {
                padding: 8rem 1rem;
                min-height: auto;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .section-subtitle {
                font-size: 1.1rem;
            }
            
            .form-container {
                padding: 2rem;
            }
            
            .accessibility-toolbar {
                bottom: 20px;
                right: 20px;
            }
            
            .accessibility-btn {
                width: 50px;
                height: 50px;
                font-size: 1.1rem;
            }
        }
        
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero-btns {
                flex-direction: column;
                width: 100%;
            }
            
            .hero-btns .btn {
                width: 100%;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .tab {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Accessibility Toolbar -->
    <div class="accessibility-toolbar">
        <button class="accessibility-btn" id="highContrastBtn" title="High Contrast Mode">
            <i class="fas fa-adjust"></i>
        </button>
        <button class="accessibility-btn" id="textToSpeechBtn" title="Read Aloud">
            <i class="fas fa-volume-up"></i>
        </button>
        <button class="accessibility-btn" id="textSizeBtn" title="Increase Text Size">
            <i class="fas fa-text-height"></i>
        </button>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="languageSelect">
            <option value="en">English</option>
            <option value="xh">isiXhosa</option>
            <option value="af">Afrikaans</option>
            <option value="zu">isiZulu</option>
        </select>
    </div>

    <header>
        <nav>
            <div class="logo"><i class="fas fa-child"></i>Stok<span>Kinders</span></div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About Us</a></li>
                <li><a href="#donate">Donate</a></li>
                <li><a href="#volunteer">Volunteer</a></li>
                <li><a href="#impact">Impact</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#profile">Profile</a></li>
            </ul>
            <button class="mobile-nav-toggle" aria-label="Menu">â˜°</button>
        </nav>
    </header>

    <section id="home" class="hero">
        <h1>Your Kindness<br>Builds Classrooms,<br>Feeds Dreams.</h1>
        <p>Support Early Childhood Development centers in informal communities across South Africa</p>
        <div class="hero-btns">
            <a href="#explore" class="btn"><i class="fas fa-search"></i> Get Started</a>
            <a href="#qr-scan" class="btn btn-secondary"><i class="fas fa-qrcode"></i> Scan QR Code</a>
        </div>
    </section>

    <section id="about" class="section">
        <h2 class="section-title">Support Learning. Spark Hope.</h2>
        <p class="section-subtitle">You're helping Early Childhood Development centres in under-resourced areas and making a tangible difference in children's lives.</p>
        
        <div style="text-align: center; margin-bottom: 3rem;">
            <a href="#donate" class="btn"><i class="fas fa-heart"></i> MAKE A DIFFERENCE TODAY</a>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <i class="fas fa-money-bill-wave"></i>
                <h3>Donate to ECDs</h3>
                <p>Send money directly to registered Early Childhood Development centers with complete transparency</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-hands-helping"></i>
                <h3>Resource Sharing</h3>
                <p>ECDs helping each other with resources, knowledge and best practices across communities</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-chart-line"></i>
                <h3>Impact Tracker</h3>
                <p>Track donation progress in real-time and see the concrete difference you're making</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-tachometer-alt"></i>
                <h3>Donor Dashboard</h3>
                <p>Manage your donations and stay updated with ECD progress through personalized reports</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-lock"></i>
                <h3>Safe & Secure</h3>
                <p>Protected transactions and verified ECD centers with regular audits</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-cogs"></i>
                <h3>Admin Board</h3>
                <p>Comprehensive management tools for ECD administrators with training resources</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-sync-alt"></i>
                <h3>Flexible Donations</h3>
                <p>Choose between one-time or recurring monthly contributions with easy management</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-qrcode"></i>
                <h3>QR Code Access</h3>
                <p>Quick access to ECD profiles and donation pages via QR codes for offline communities</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-sms"></i>
                <h3>SMS Donations</h3>
                <p>Donate via SMS without needing internet access or a smartphone</p>
            </div>
        </div>
    </section>

    <section id="explore" class="section" style="background-color: #f9f9f9;">
        <h2 class="section-title">Explore StokKinders</h2>
        <p class="section-subtitle">Begin your journey of impact. Discover ECDs, view their specific resource needs, and choose which center you'd like to support.</p>
        
        <div class="pages">
            <div class="page-card">
                <div class="page-image" style="background-image: url('https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80');">
                    <h3>Explore Page</h3>
                </div>
                <div class="page-content">
                    <h3>Explore Page</h3>
                    <p>Begin your journey of impact. Discover ECDs, view their specific resource needs, and choose which center you'd like to support.</p>
                    <a href="#donate" class="btn btn-secondary"><i class="fas fa-search"></i> Browse ECDs</a>
                </div>
            </div>
            <div class="page-card">
                <div class="page-image" style="background-image: url('https://images.unsplash.com/photo-1541178735493-479c1a27ed24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80');">
                    <h3>Register Page</h3>
                </div>
                <div class="page-content">
                    <h3>Register Page</h3>
                    <p>Join the StokKinders community as a donor or register your ECD center to receive support. Quick and easy registration process.</p>
                    <a href="#register" class="btn btn-secondary"><i class="fas fa-user-plus"></i> Join Now</a>
                </div>
            </div>
            <div class="page-card">
                <div class="page-image" style="background-image: url('https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80');">
                    <h3>Donate Page</h3>
                </div>
                <div class="page-content">
                    <h3>Donate Page</h3>
                    <p>A simple, secure, and flexible way to give. Choose one-time or monthly donations with customizable amounts and full transparency.</p>
                    <a href="#donate" class="btn btn-secondary"><i class="fas fa-donate"></i> Donate Now</a>
                </div>
            </div>
            <div class="page-card">
                <div class="page-image" style="background-image: url('https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');">
                    <h3>Track Impact</h3>
                </div>
                <div class="page-content">
                    <h3>Track Impact</h3>
                    <p>See where your generosity goes! Track donation progress, view your personal impact summary, and celebrate milestones with the ECDs.</p>
                    <a href="#impact" class="btn btn-secondary"><i class="fas fa-chart-bar"></i> View Impact</a>
                </div>
            </div>
        </div>
    </section>

    <section id="donate" class="section">
        <div class="tabs">
            <button class="tab active" data-tab="discover">Discover ECDs</button>
            <button class="tab" data-tab="donate-form">Make a Donation</button>
            <button class="tab" data-tab="register">Register</button>
            <button class="tab" data-tab="qr-scan">QR Codes</button>
        </div>

        <div id="discover" class="tab-content active">
            <h2 class="section-title">Discover ECDs in Need</h2>
            <p style="text-align: center; margin-bottom: 2rem;">Browse through our verified Early Childhood Development centers and find one to support.</p>
            
            <div class="ecd-list">
                <div class="ecd-card">
                    <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1604881991720-f91add269bed?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1587&q=80');">
                        <h3>Sunshine Kids ECD</h3>
                    </div>
                    <div class="ecd-content">
                        <h3>Sunshine Kids ECD</h3>
                        <p>Alexandra, Johannesburg</p>
                        <div class="ecd-needs">
                            <span class="need-tag">Stationery</span>
                            <span class="need-tag">Food</span>
                            <span class="need-tag">Salary Support</span>
                        </div>
                        <p>Monthly target: R5,000</p>
                        <div class="progress">
                            <div class="progress-bar" style="width: 65%;"></div>
                        </div>
                        <p>R3,250 of R5,000 raised</p>
                        <button class="btn"><i class="fas fa-hand-holding-heart"></i> Support This ECD</button>
                        <button class="btn btn-secondary" data-ecd="Sunshine Kids ECD"><i class="fas fa-qrcode"></i> Get QR Code</button>
                    </div>
                </div>
                
                <div class="ecd-card">
                    <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1541692641319-981cc79ee10a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');">
                        <h3>Little Explorers</h3>
                    </div>
                    <div class="ecd-content">
                        <h3>Little Explorers</h3>
                        <p>Khayelitsha, Cape Town</p>
                        <div class="ecd-needs">
                            <span class="need-tag">Toys</span>
                            <span class="need-tag">Books</span>
                            <span class="need-tag">Furniture</span>
                        </div>
                        <p>Monthly target: R7,500</p>
                        <div class="progress">
                            <div class="progress-bar" style="width: 40%;"></div>
                        </div>
                        <p>R3,000 of R7,500 raised</p>
                        <button class="btn"><i class="fas fa-hand-holding-heart"></i> Support This ECD</button>
                        <button class="btn btn-secondary" data-ecd="Little Explorers"><i class="fas fa-qrcode"></i> Get QR Code</button>
                    </div>
                </div>
                
                <div class="ecd-card">
                    <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1600046050370-4e64d8e5d0b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1587&q=80');">
                        <h3>Bright Stars ECD</h3>
                    </div>
                    <div class="ecd-content">
                        <h3>Bright Stars ECD</h3>
                        <p>Umlazi, Durban</p>
                        <div class="ecd-needs">
                            <span class="need-tag">Rent</span>
                            <span class="need-tag">Learning Materials</span>
                            <span class="need-tag">Salary Support</span>
                        </div>
                        <p>Monthly target: R6,000</p>
                        <div class="progress">
                            <div class="progress-bar" style="width: 80%;"></div>
                        </div>
                        <p>R4,800 of R6,000 raised</p>
                        <button class="btn"><i class="fas fa-hand-holding-heart"></i> Support This ECD</button>
                        <button class="btn btn-secondary" data-ecd="Bright Stars ECD"><i class="fas fa-qrcode"></i> Get QR Code</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="donate-form" class="tab-content">
            <div class="form-container">
                <div class="offline-notice" id="offlineNotice">
                    <i class="fas fa-exclamation-triangle"></i> You appear to be offline. Some features may be limited.
                </div>
                
                <h2 class="section-title">Make a Donation</h2>
                
                <div class="form-group">
                    <label for="ecdSelect">Select an ECD Center</label>
                    <select id="ecdSelect">
                        <option value="">Select an ECD center</option>
                        <option value="Sunshine Kids ECD">Sunshine Kids ECD</option>
                        <option value="Little Explorers">Little Explorers</option>
                        <option value="Bright Stars ECD">Bright Stars ECD</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Donation Type</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="donation-type" value="one-time" checked>
                            <span>One-time</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="donation-type" value="monthly">
                            <span>Monthly</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Donation Amount</label>
                    <div class="donation-cards">
                        <div class="donation-card" data-amount="50">R50</div>
                        <div class="donation-card selected" data-amount="100">R100</div>
                        <div class="donation-card" data-amount="250">R250</div>
                        <div class="donation-card" data-amount="500">R500</div>
                        <div class="donation-card" data-amount="custom">Custom</div>
                    </div>
                </div>
                
                <div class="form-group" id="customAmountGroup" style="display: none;">
                    <label for="customAmount">Custom Amount (if selected)</label>
                    <input type="number" placeholder="Enter amount in Rands" id="customAmount" min="1">
                </div>
                
                <div class="form-group">
                    <label for="specificNeed">Specific Need (Optional)</label>
                    <select id="specificNeed">
                        <option value="general">General support</option>
                        <option value="stationery">Stationery</option>
                        <option value="food">Food</option>
                        <option value="salaries">Educator Salaries</option>
                        <option value="materials">Learning Materials</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fullName">Personal Information</label>
                    <input type="text" id="fullName" placeholder="Full Name" required>
                </div>
                <div class="form-group">
                    <input type="email" id="email" placeholder="Email Address" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="phone" placeholder="Phone Number (Optional)">
                </div>
                
                <button class="btn" id="donateSubmit" style="width: 100%;"><i class="fas fa-lock"></i> Proceed to Payment</button>
                
                <div class="sms-donation">
                    <h3><i class="fas fa-sms"></i> Donate via SMS (No Internet Needed)</h3>
                    <p>Send an SMS with the code below to 12345 to make your donation:</p>
                    <div class="sms-donation-code">
                        DONATE SK100
                    </div>
                    <p>Replace "SK" with the ECD code and "100" with your amount. You'll receive a confirmation SMS.</p>
                </div>
            </div>
        </div>

        <div id="register" class="tab-content">
            <h2 class="section-title">Join the StokKinders Community</h2>
            
            <div class="tabs" style="margin-top: 2rem;">
                <button class="tab active" data-register-tab="donor">Register as Donor</button>
                <button class="tab" data-register-tab="ecd">Register Your ECD</button>
                <button class="tab" data-register-tab="volunteer">Become a Volunteer</button>
            </div>
            
            <div id="donor-reg" class="tab-content active" style="margin-top: 2rem;">
                <div class="form-container">
                    <div class="form-group">
                        <label for="donorName">Full Name</label>
                        <input type="text" id="donorName" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="donorEmail">Email Address</label>
                        <input type="email" id="donorEmail" placeholder="Enter your email address" required>
                    </div>
                    <div class="form-group">
                        <label for="donorPassword">Create Password</label>
                        <input type="password" id="donorPassword" placeholder="Create a secure password" required minlength="8">
                    </div>
                    <div class="form-group">
                        <label for="donorConfirmPassword">Confirm Password</label>
                        <input type="password" id="donorConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                    <div class="form-group">
                        <label for="donorPhone">Phone Number</label>
                        <input type="tel" id="donorPhone" placeholder="Enter your phone number">
                    </div>
                    <button class="btn" id="donorRegister" style="width: 100%;"><i class="fas fa-user-plus"></i> Create Donor Account</button>
                    <p style="text-align: center; margin-top: 1rem;">Already have an account? <a href="#" style="color: var(--primary);">Log in</a></p>
                </div>
            </div>
            
            <div id="ecd-reg" class="tab-content" style="margin-top: 2rem;">
                <div class="form-container">
                    <div class="form-group">
                        <label for="ecdName">ECD Center Name</label>
                        <input type="text" id="ecdName" placeholder="Enter your ECD center's name" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdAddress">Physical Address</label>
                        <input type="text" id="ecdAddress" placeholder="Enter ECD physical address" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdContact">Contact Person</label>
                        <input type="text" id="ecdContact" placeholder="Name of contact person" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdEmail">Email Address</label>
                        <input type="email" id="ecdEmail" placeholder="Enter email address" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdPhone">Phone Number</label>
                        <input type="tel" id="ecdPhone" placeholder="Enter phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdChildren">Number of Children</label>
                        <input type="number" id="ecdChildren" placeholder="How many children attend your ECD?" min="1" required>
                    </div>
                    <div class="form-group">
                        <label for="ecdDescription">ECD Description</label>
                        <textarea id="ecdDescription" placeholder="Tell potential donors about your ECD center" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="ecdNeeds">Primary Needs</label>
                        <textarea id="ecdNeeds" placeholder="What are your main funding needs?" rows="3" required></textarea>
                    </div>
                    <button class="btn" id="ecdRegister" style="width: 100%;"><i class="fas fa-school"></i> Register ECD Center</button>
                </div>
            </div>
            
            <div id="volunteer-reg" class="tab-content" style="margin-top: 2rem;">
                <div class="form-container">
                    <div class="form-group">
                        <label for="volunteerName">Full Name</label>
                        <input type="text" id="volunteerName" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerEmail">Email Address</label>
                        <input type="email" id="volunteerEmail" placeholder="Enter your email address" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerPhone">Phone Number</label>
                        <input type="tel" id="volunteerPhone" placeholder="Enter your phone number" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerLocation">Location</label>
                        <input type="text" id="volunteerLocation" placeholder="Where are you based?" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerSkills">Skills/Expertise</label>
                        <textarea id="volunteerSkills" placeholder="What skills can you offer? (teaching, arts, cooking, etc.)" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="volunteerAvailability">Availability</label>
                        <select id="volunteerAvailability" multiple>
                            <option value="weekdays">Weekdays</option>
                            <option value="weekends">Weekends</option>
                            <option value="mornings">Mornings</option>
                            <option value="afternoons">Afternoons</option>
                            <option value="occasional">Occasional</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Background Check Consent</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="checkbox" id="backgroundCheck" required>
                                <span>I consent to a background check</span>
                            </label>
                        </div>
                    </div>
                    <button class="btn" id="volunteerRegister" style="width: 100%;"><i class="fas fa-hands-helping"></i> Register as Volunteer</button>
                </div>
            </div>
        </div>
        
        <div id="qr-scan" class="tab-content">
            <div class="form-container">
                <h2 class="section-title">QR Code Access</h2>
                <p style="text-align: center; margin-bottom: 2rem;">Scan QR codes to quickly access ECD profiles and donation pages, even with limited internet access.</p>
                
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div id="qrScanner" style="width: 300px; height: 300px; border: 2px dashed #ccc; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center;">
                        <p>QR Scanner will appear here</p>
                    </div>
                    <button class="btn" id="startScanner"><i class="fas fa-camera"></i> Start QR Scanner</button>
                    <p style="margin: 1.5rem 0; color: var(--dark-light);">OR</p>
                    <button class="btn btn-secondary" id="showGenerator"><i class="fas fa-qrcode"></i> Generate QR Code</button>
                </div>
                
                <div id="qrGenerator" style="display: none; margin-top: 2rem;">
                    <h3 style="text-align: center;">Generate QR Code for ECD Center</h3>
                    <div class="form-group">
                        <label for="ecdSelectForQR">Select ECD Center</label>
                        <select id="ecdSelectForQR">
                            <option value="">Select an ECD center</option>
                            <option value="Sunshine Kids ECD">Sunshine Kids ECD</option>
                            <option value="Little Explorers">Little Explorers</option>
                            <option value="Bright Stars ECD">Bright Stars ECD</option>
                        </select>
                    </div>
                    <div class="qr-code-container">
                        <div id="generatedQRCode" class="qr-code"></div>
                        <p class="qr-instructions">Print or share this QR code to help others donate to this ECD center</p>
                        <button class="btn" id="printQR"><i class="fas fa-print"></i> Print QR Code</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="volunteer" class="section" style="background-color: #f9f9f9;">
        <h2 class="section-title">Hearts & Hands Volunteer Program</h2>
        <p class="section-subtitle">Join our community of volunteers supporting ECD centers with your time and skills</p>
        
        <div class="features">
            <div class="feature-card">
                <i class="fas fa-calendar-alt"></i>
                <h3>Flexible Scheduling</h3>
                <p>Choose volunteer shifts that fit your availability and lifestyle</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-tasks"></i>
                <h3>Varied Roles</h3>
                <p>Teach, cook, assist with admin, or help with maintenance - find your perfect role</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-bell"></i>
                <h3>Emergency Alerts</h3>
                <p>Get notified when ECDs have urgent needs you can help with</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-mobile-alt"></i>
                <h3>Offline Access</h3>
                <p>View your schedule and tasks without needing constant internet access</p>
            </div>
        </div>
        
        <div style="text-align: center; margin: 3rem 0;">
            <a href="#register" class="btn btn-accent"><i class="fas fa-hands-helping"></i> Become a Volunteer</a>
        </div>
        
        <h3 style="text-align: center; margin-bottom: 2rem;">Current Volunteer Opportunities</h3>
        
        <div class="emergency-alert">
            <i class="fas fa-exclamation-circle"></i>
            <div>
                <strong>URGENT: Sunshine Kids ECD needs help with meal preparation tomorrow</strong>
                <p>2 volunteers needed from 9am-12pm</p>
            </div>
        </div>
        
        <div class="volunteer-role">
            <div>
                <strong>Reading Helper</strong>
                <p>Little Explorers, Khayelitsha | Weekly, Tuesdays 10am-12pm</p>
            </div>
            <button class="btn btn-secondary"><i class="fas fa-user-plus"></i> Sign Up</button>
        </div>
        
        <div class="volunteer-role">
            <div>
                <strong>Playground Maintenance</strong>
                <p>Bright Stars ECD, Umlazi | One-time, Saturday 9am-1pm</p>
            </div>
            <button class="btn btn-secondary"><i class="fas fa-user-plus"></i> Sign Up</button>
        </div>
        
        <div class="volunteer-role">
            <div>
                <strong>Administrative Assistant</strong>
                <p>Various ECDs | Flexible hours</p>
            </div>
            <button class="btn btn-secondary"><i class="fas fa-user-plus"></i> Sign Up</button>
        </div>
        
        <div class="volunteer-role">
            <div>
                <strong>Arts & Crafts Teacher</strong>
                <p>Sunshine Kids ECD, Alexandra | Weekly, Fridays 2pm-4pm</p>
            </div>
            <button class="btn btn-secondary"><i class="fas fa-user-plus"></i> Sign Up</button>
        </div>
        
        <div style="text-align: center; margin-top: 2rem;">
            <button class="btn"><i class="fas fa-arrow-right"></i> View All Opportunities</button>
        </div>
    </section>

    <section id="impact" class="section">
        <h2 class="section-title">Our Impact</h2>
        <p class="section-subtitle">See the difference we're making together in early childhood development across South Africa</p>
        
        <div class="impact-stats">
            <div class="stat-card">
                <h2>35</h2>
                <p>ECD Centers Supported</p>
            </div>
            <div class="stat-card">
                <h2>1,250</h2>
                <p>Children Impacted</p>
            </div>
            <div class="stat-card">
                <h2>R125K</h2>
                <p>Funds Raised</p>
            </div>
            <div class="stat-card">
                <h2>75</h2>
                <p>Regular Donors</p>
            </div>
            <div class="stat-card">
                <h2>210</h2>
                <p>Active Volunteers</p>
            </div>
            <div class="stat-card">
                <h2>3,450</h2>
                <p>Volunteer Hours</p>
            </div>
        </div>
        
        <h3 style="text-align: center; margin-bottom: 2rem;">Recent Success Stories</h3>
        
        <div class="ecd-list">
            <div class="ecd-card">
                <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1588072432836-e10032774350?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80');">
                    <h3>New Learning Materials</h3>
                </div>
                <div class="ecd-content">
                    <h3>New Learning Materials</h3>
                    <p>Thanks to your donations, Sunshine Kids ECD received much-needed learning materials and books for 45 children.</p>
                    <div class="progress">
                        <div class="progress-bar" style="width: 100%;"></div>
                    </div>
                    <p>Goal Reached: R7,500</p>
                </div>
            </div>
            
            <div class="ecd-card">
                <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1541178735493-479c1a27ed24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80');">
                    <h3>Teacher Salaries Covered</h3>
                </div>
                <div class="ecd-content">
                    <h3>Teacher Salaries Covered</h3>
                    <p>Little Explorers ECD was able to pay their teachers for 3 months thanks to recurring donors.</p>
                    <div class="progress">
                        <div class="progress-bar" style="width: 100%;"></div>
                    </div>
                    <p>Goal Reached: R15,000</p>
                </div>
            </div>
            
            <div class="ecd-card">
                <div class="ecd-image" style="background-image: url('https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80');">
                    <h3>New Playground Equipment</h3>
                </div>
                <div class="ecd-content">
                    <h3>New Playground Equipment</h3>
                    <p>Bright Stars ECD installed safe playground equipment for their 45 children through community donations.</p>
                    <div class="progress">
                        <div class="progress-bar" style="width: 100%;"></div>
                    </div>
                    <p>Goal Reached: R12,500</p>
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 3rem;">
            <a href="#donate" class="btn"><i class="fas fa-heart"></i> Join Our Community of Donors</a>
            <a href="#volunteer" class="btn btn-accent"><i class="fas fa-hands-helping"></i> Become a Volunteer</a>
        </div>
    </section>

    <section id="profile" class="section">
        <div class="profile-section">
            <div class="profile-avatar" style="background-image: url('https://randomuser.me/api/portraits/women/44.jpg');"></div>
            <div class="profile-name">Sarah Johnson</div>
            <div class="profile-role">Gold Donor <span class="volunteer-badge">Active Volunteer</span></div>
        </div>
        
        <div class="tabs">
            <button class="tab active" data-profile-tab="donations">Donations</button>
            <button class="tab" data-profile-tab="volunteering">Volunteering</button>
            <button class="tab" data-profile-tab="settings">Settings</button>
        </div>
        
        <div id="donations-tab" class="tab-content active">
            <div class="dashboard-stats">
                <div class="dashboard-card">
                    <h3>R2,450</h3>
                    <p>Total Donated</p>
                </div>
                <div class="dashboard-card">
                    <h3>8</h3>
                    <p>ECDs Supported</p>
                </div>
                <div class="dashboard-card">
                    <h3>35</h3>
                    <p>Children Helped</p>
                </div>
                <div class="dashboard-card">
                    <h3>3</h3>
                    <p>Active Subscriptions</p>
                </div>
            </div>
            
            <div class="donation-history">
                <h3 style="margin-bottom: 1.5rem;">Recent Donations</h3>
                <div class="donation-item">
                    <div>
                        <strong>Sunshine Kids ECD</strong>
                        <p>15 June 2023</p>
                    </div>
                    <div class="donation-amount">R500</div>
                </div>
                <div class="donation-item">
                    <div>
                        <strong>Little Explorers</strong>
                        <p>10 June 2023</p>
                    </div>
                    <div class="donation-amount">R250</div>
                </div>
                <div class="donation-item">
                    <div>
                        <strong>Bright Stars ECD</strong>
                        <p>5 June 2023</p>
                    </div>
                    <div class="donation-amount">R300</div>
                </div>
                <div class="donation-item">
                    <div>
                        <strong>Sunshine Kids ECD</strong>
                        <p>1 June 2023</p>
                    </div>
                    <div class="donation-amount">R500</div>
                </div>
            </div>
        </div>
        
        <div id="volunteering-tab" class="tab-content">
            <div class="dashboard-stats">
                <div class="dashboard-card">
                    <h3>42</h3>
                    <p>Hours Volunteered</p>
                </div>
                <div class="dashboard-card">
                    <h3>5</h3>
                    <p>ECDs Supported</p>
                </div>
                <div class="dashboard-card">
                    <h3>12</h3>
                    <p>Shifts Completed</p>
                </div>
                <div class="dashboard-card">
                    <h3>4.8</h3>
                    <p>Average Rating</p>
                </div>
            </div>
            
            <h3 style="margin: 2rem 0 1rem;">Upcoming Shifts</h3>
            <div class="volunteer-role">
                <div>
                    <strong>Reading Helper</strong>
                    <p>Little Explorers, Khayelitsha | Tuesday, 27 June 10am-12pm</p>
                </div>
                <button class="btn btn-secondary"><i class="fas fa-info-circle"></i> Details</button>
            </div>
            
            <div class="volunteer-role">
                <div>
                    <strong>Arts & Crafts</strong>
                    <p>Sunshine Kids ECD, Alexandra | Friday, 30 June 2pm-4pm</p>
                </div>
                <button class="btn btn-secondary"><i class="fas fa-info-circle"></i> Details</button>
            </div>
            
            <h3 style="margin: 2rem 0 1rem;">Past Shifts</h3>
            <div class="volunteer-role">
                <div>
                    <strong>Meal Preparation</strong>
                    <p>Little Explorers, Khayelitsha | 20 June 2023</p>
                    <p>Rating: 5/5 - "Sarah was amazing with the kids!"</p>
                </div>
            </div>
            
            <div class="volunteer-role">
                <div>
                    <strong>Playground Maintenance</strong>
                    <p>Bright Stars ECD, Umlazi | 10 June 2023</p>
                    <p>Rating: 4/5 - "Great work fixing the swings"</p>
                </div>
            </div>
        </div>
        
        <div id="settings-tab" class="tab-content">
            <div class="form-container">
                <h3 style="margin-bottom: 1.5rem;">Account Settings</h3>
                
                <div class="form-group">
                    <label>Notification Preferences</label>
                    <div class="radio-group" style="flex-direction: column; align-items: flex-start;">
                        <label class="radio-option">
                            <input type="checkbox" id="emailNotifications" checked>
                            <span>Email notifications</span>
                        </label>
                        <label class="radio-option">
                            <input type="checkbox" id="smsNotifications" checked>
                            <span>SMS notifications</span>
                        </label>
                        <label class="radio-option">
                            <input type="checkbox" id="pushNotifications">
                            <span>Push notifications</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="languagePreference">Language Preference</label>
                    <select id="languagePreference">
                        <option value="en">English</option>
                        <option value="xh">isiXhosa</option>
                        <option value="af">Afrikaans</option>
                        <option value="zu">isiZulu</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Accessibility Settings</label>
                    <div class="radio-group" style="flex-direction: column; align-items: flex-start;">
                        <label class="radio-option">
                            <input type="checkbox" id="highContrastToggle">
                            <span>High contrast mode</span>
                        </label>
                        <label class="radio-option">
                            <input type="checkbox" id="largeTextToggle">
                            <span>Large text</span>
                        </label>
                    </div>
                </div>
                
                <button class="btn" id="saveSettings" style="width: 100%; margin-top: 1rem;"><i class="fas fa-save"></i> Save Changes</button>
                
                <div style="margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1rem;">
                    <h3 style="margin-bottom: 1rem;">Help & Support</h3>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">
                        <i class="fas fa-question-circle"></i> Help Center
                    </button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">
                        <i class="fas fa-comments"></i> Contact Support
                    </button>
                    <button class="btn btn-secondary" style="width: 100%;">
                        <i class="fas fa-book"></i> Digital Literacy Guide
                    </button>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section" style="background-color: #f9f9f9;">
        <h2 class="section-title">Contact Us</h2>
        <p class="section-subtitle">Have questions or want to get involved? We'd love to hear from you!</p>
        
        <div class="form-container">
            <div class="form-group">
                <label for="contactName">Name</label>
                <input type="text" id="contactName" placeholder="Your Name" required>
            </div>
            <div class="form-group">
                <label for="contactEmail">Email</label>
                <input type="email" id="contactEmail" placeholder="Your Email" required>
            </div>
            <div class="form-group">
                <label for="contactSubject">Subject</label>
                <input type="text" id="contactSubject" placeholder="Message Subject" required>
            </div>
            <div class="form-group">
                <label for="contactMessage">Message</label>
                <textarea id="contactMessage" placeholder="Your Message" rows="5" required></textarea>
            </div>
            <button class="btn" id="sendMessage" style="width: 100%;"><i class="fas fa-paper-plane"></i> Send Message</button>
            
            <div style="margin-top: 2rem; text-align: center;">
                <h3>Other Ways to Reach Us</h3>
                <p><i class="fas fa-phone"></i> Call: 0800 123 456</p>
                <p><i class="fas fa-sms"></i> SMS: 12345</p>
                <p><i class="fas fa-whatsapp"></i> WhatsApp: +27 12 345 6789</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-logo"><i class="fas fa-child"></i>Stok<span>Kinders</span></div>
            <p>Supporting Early Childhood Development centers in informal communities across South Africa with education, nutrition and care.</p>
            
            <ul class="footer-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#donate">Donate</a></li>
                <li><a href="#volunteer">Volunteer</a></li>
                <li><a href="#impact">Impact</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms</a></li>
                <li><a href="#">FAQ</a></li>
                <li><a href="#">Accessibility</a></li>
            </ul>
            
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-whatsapp"></i></a>
            </div>
            
            <div class="footer-app-btns">
                <button class="btn btn-secondary"><i class="fas fa-mobile-alt"></i> Download Volunteer App</button>
                <button class="btn btn-secondary"><i class="fas fa-book-open"></i> Get ECD Resources</button>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 StokKinders & ECD Funding Platform. All rights reserved.</p>
                <p>Developed by Platinum Planners</p>
            </div>
        </div>
    </footer>

    <script>
      // StokKinders Platform JavaScript - Fixed Version
document.addEventListener('DOMContentLoaded', function() {
    // Initialize all functionality
    initializeTabs();
    initializeMobileNavigation();
    initializeDonationCards();
    initializeProgressBars();
    initializeOnlineStatus();
    initializeSmoothScrolling();
    initializeAccessibilityFeatures();
    initializeQRFunctionality();
    initializeFormValidation();
    
    console.log('StokKinders platform initialized successfully');
});

// Tab functionality with error handling
function initializeTabs() {
    try {
        // Main tabs
        const tabs = document.querySelectorAll('.tabs .tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabContents = document.querySelectorAll('.tab-content');
                tabs.forEach(t => t.classList.remove('active'));
                
                const tabName = this.getAttribute('data-tab');
                if (tabName) {
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabName) {
                            content.classList.add('active');
                        }
                    });
                    this.classList.add('active');
                }
            });
        });
        
        // Register tabs
        const registerTabs = document.querySelectorAll('[data-register-tab]');
        registerTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabContents = document.querySelectorAll('#register .tab-content');
                registerTabs.forEach(t => t.classList.remove('active'));
                
                const tabName = this.getAttribute('data-register-tab');
                if (tabName) {
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabName + '-reg') {
                            content.classList.add('active');
                        }
                    });
                    this.classList.add('active');
                }
            });
        });
        
        // Profile tabs
        const profileTabs = document.querySelectorAll('[data-profile-tab]');
        profileTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabContents = document.querySelectorAll('#profile .tab-content');
                profileTabs.forEach(t => t.classList.remove('active'));
                
                const tabName = this.getAttribute('data-profile-tab');
                if (tabName) {
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabName + '-tab') {
                            content.classList.add('active');
                        }
                    });
                    this.classList.add('active');
                }
            });
        });
    } catch (error) {
        console.error('Error initializing tabs:', error);
    }
}

// Mobile navigation with improved error handling
function initializeMobileNavigation() {
    try {
        const navToggle = document.querySelector('.mobile-nav-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        if (navToggle && navLinks) {
            navToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
            
            // Close mobile menu when clicking a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
        }
    } catch (error) {
        console.error('Error initializing mobile navigation:', error);
    }
}

// Donation cards with improved validation
function initializeDonationCards() {
    try {
        const donationCards = document.querySelectorAll('.donation-card');
        const customAmountGroup = document.getElementById('customAmountGroup');
        
        if (donationCards.length > 0) {
            donationCards.forEach(card => {
                card.addEventListener('click', () => {
                    donationCards.forEach(c => c.classList.remove('selected'));
                    card.classList.add('selected');
                    
                    // Show/hide custom amount field based on selection
                    if (customAmountGroup) {
                        if (card.getAttribute('data-amount') === 'custom') {
                            customAmountGroup.style.display = 'block';
                            const customInput = document.getElementById('customAmount');
                            if (customInput) customInput.focus();
                        } else {
                            customAmountGroup.style.display = 'none';
                        }
                    }
                });
            });
            
            // Initially hide custom amount field
            if (customAmountGroup) {
                customAmountGroup.style.display = 'none';
            }
        }
    } catch (error) {
        console.error('Error initializing donation cards:', error);
    }
}

// Progress bars animation with better timing
function initializeProgressBars() {
    try {
        const progressBars = document.querySelectorAll('.progress-bar');
        progressBars.forEach((bar, index) => {
            const width = bar.style.width;
            if (width) {
                bar.style.width = '0';
                // Stagger animations for better visual effect
                setTimeout(() => {
                    bar.style.transition = 'width 1s ease-in-out';
                    bar.style.width = width;
                }, 300 + (index * 100));
            }
        });
    } catch (error) {
        console.error('Error initializing progress bars:', error);
    }
}

// Online/offline status monitoring
function initializeOnlineStatus() {
    try {
        updateOnlineStatus();
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);
    } catch (error) {
        console.error('Error initializing online status:', error);
    }
}

function updateOnlineStatus() {
    const offlineNotice = document.getElementById('offlineNotice');
    if (offlineNotice) {
        offlineNotice.style.display = navigator.onLine ? 'none' : 'block';
    }
}

// Smooth scrolling with better offset calculation
function initializeSmoothScrolling() {
    try {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    const headerHeight = document.querySelector('header')?.offsetHeight || 70;
                    const targetPosition = targetElement.offsetTop - headerHeight;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
    } catch (error) {
        console.error('Error initializing smooth scrolling:', error);
    }
}

// Accessibility features with better UX
function initializeAccessibilityFeatures() {
    try {
        const highContrastBtn = document.getElementById('highContrastBtn');
        const textToSpeechBtn = document.getElementById('textToSpeechBtn');
        const textSizeBtn = document.getElementById('textSizeBtn');
        const highContrastToggle = document.getElementById('highContrastToggle');
        const languageSelect = document.getElementById('languageSelect');
        
        if (highContrastBtn) {
            highContrastBtn.addEventListener('click', () => {
                document.body.classList.toggle('high-contrast');
                // Save preference to session storage for persistence
                try {
                    sessionStorage.setItem('highContrast', document.body.classList.contains('high-contrast'));
                } catch (e) {
                    console.log('Session storage not available');
                }
            });
        }
        
        if (textToSpeechBtn) {
            textToSpeechBtn.addEventListener('click', () => {
                if ('speechSynthesis' in window) {
                    const text = document.querySelector('main')?.textContent || 'Welcome to StokKinders platform';
                    const utterance = new SpeechSynthesisUtterance(text.substring(0, 200) + '...');
                    speechSynthesis.speak(utterance);
                } else {
                    alert('Text-to-speech is not supported in your browser. Please use a modern browser for this feature.');
                }
            });
        }
        
        if (textSizeBtn) {
            textSizeBtn.addEventListener('click', () => {
                const currentSize = parseFloat(getComputedStyle(document.body).fontSize);
                const newSize = Math.min(currentSize + 2, 24); // Cap at 24px
                document.body.style.fontSize = newSize + 'px';
                
                // Save preference
                try {
                    sessionStorage.setItem('fontSize', newSize);
                } catch (e) {
                    console.log('Session storage not available');
                }
            });
        }
        
        if (highContrastToggle) {
            highContrastToggle.addEventListener('change', (e) => {
                document.body.classList.toggle('high-contrast', e.target.checked);
            });
        }
        
        if (languageSelect) {
            languageSelect.addEventListener('change', (e) => {
                const selectedLanguage = e.target.options[e.target.selectedIndex].text;
                alert(`Language switching to ${selectedLanguage} would be implemented with i18n in production.`);
            });
        }
        
        // Load saved preferences
        try {
            const savedFontSize = sessionStorage.getItem('fontSize');
            if (savedFontSize) {
                document.body.style.fontSize = savedFontSize + 'px';
            }
            
            const savedHighContrast = sessionStorage.getItem('highContrast') === 'true';
            if (savedHighContrast) {
                document.body.classList.add('high-contrast');
                if (highContrastToggle) highContrastToggle.checked = true;
            }
        } catch (e) {
            console.log('Could not load saved preferences');
        }
        
    } catch (error) {
        console.error('Error initializing accessibility features:', error);
    }
}

// QR Code functionality with better error handling
function initializeQRFunctionality() {
    try {
        // QR Code generation buttons
        document.querySelectorAll('[data-ecd]').forEach(button => {
            button.addEventListener('click', function() {
                const ecdName = this.getAttribute('data-ecd');
                if (ecdName) {
                    generateQR(ecdName);
                }
            });
        });
        
        const showGeneratorBtn = document.getElementById('showGenerator');
        const printQRBtn = document.getElementById('printQR');
        const startScannerBtn = document.getElementById('startScanner');
        
        if (showGeneratorBtn) showGeneratorBtn.addEventListener('click', showQRGenerator);
        if (printQRBtn) printQRBtn.addEventListener('click', printQRCode);
        if (startScannerBtn) startScannerBtn.addEventListener('click', startQRScanner);
        
    } catch (error) {
        console.error('Error initializing QR functionality:', error);
    }
}

// Enhanced QR code generation with error handling
function generateQR(ecdName) {
    try {
        // Check if QRCode library is available
        if (typeof QRCode === 'undefined') {
            alert('QR Code library not loaded. Please refresh the page and try again.');
            return;
        }
        
        const qrContainer = createQRModal(ecdName);
        document.body.appendChild(qrContainer);
        
        const qrCodeElement = qrContainer.querySelector('.qr-code');
        const donationUrl = `https://stokkinders.org/donate?ecd=${encodeURIComponent(ecdName)}`;
        
        QRCode.toCanvas(qrCodeElement, donationUrl, {
            width: 200,
            margin: 2,
            color: {
                dark: '#000000',
                light: '#FFFFFF'
            }
        }, (error) => {
            if (error) {
                console.error('QR Code generation error:', error);
                qrCodeElement.innerHTML = '<p>Error generating QR code. Please try again.</p>';
            }
        });
        
    } catch (error) {
        console.error('Error in generateQR:', error);
        alert('Unable to generate QR code. Please try again later.');
    }
}

// Create QR modal with better styling and accessibility
function createQRModal(ecdName) {
    const qrContainer = document.createElement('div');
    qrContainer.className = 'qr-code-container';
    qrContainer.setAttribute('role', 'dialog');
    qrContainer.setAttribute('aria-labelledby', 'qr-title');
    
    qrContainer.innerHTML = `
        <div class="qr-modal-content">
            <h3 id="qr-title">QR Code for ${escapeHtml(ecdName)}</h3>
            <div class="qr-code" style="margin: 1rem auto; text-align: center;"></div>
            <p class="qr-instructions">Print or share this QR code to help others donate to this ECD center</p>
            <div class="qr-actions">
                <button class="btn btn-secondary qr-close">Close</button>
                <button class="btn btn-primary qr-download">Download</button>
            </div>
        </div>
    `;
    
    // Styling
    Object.assign(qrContainer.style, {
        position: 'fixed',
        top: '0',
        left: '0',
        width: '100%',
        height: '100%',
        backgroundColor: 'rgba(0,0,0,0.5)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: '1000'
    });
    
    const modalContent = qrContainer.querySelector('.qr-modal-content');
    Object.assign(modalContent.style, {
        backgroundColor: 'white',
        padding: '2rem',
        borderRadius: '10px',
        boxShadow: '0 10px 30px rgba(0,0,0,0.3)',
        maxWidth: '400px',
        width: '90%',
        textAlign: 'center'
    });
    
    // Event handlers
    qrContainer.querySelector('.qr-close').onclick = () => document.body.removeChild(qrContainer);
    qrContainer.querySelector('.qr-download').onclick = () => downloadQRCode(ecdName);
    
    // Close on background click
    qrContainer.addEventListener('click', (e) => {
        if (e.target === qrContainer) {
            document.body.removeChild(qrContainer);
        }
    });
    
    // Close on Escape key
    document.addEventListener('keydown', function escapeHandler(e) {
        if (e.key === 'Escape') {
            document.body.removeChild(qrContainer);
            document.removeEventListener('keydown', escapeHandler);
        }
    });
    
    return qrContainer;
}

// Utility function to escape HTML
function escapeHtml(text) {
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return text.replace(/[&<>"']/g, m => map[m]);
}

// Download QR code functionality
function downloadQRCode(ecdName) {
    try {
        const canvas = document.querySelector('.qr-code canvas');
        if (canvas) {
            const link = document.createElement('a');
            link.download = `StokKinders-QR-${ecdName.replace(/[^a-zA-Z0-9]/g, '_')}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }
    } catch (error) {
        console.error('Error downloading QR code:', error);
        alert('Unable to download QR code. Please try again.');
    }
}

function showQRGenerator() {
    try {
        const qrScanner = document.getElementById('qrScanner');
        const qrGenerator = document.getElementById('qrGenerator');
        const ecdSelectForQR = document.getElementById('ecdSelectForQR');
        
        if (qrScanner) qrScanner.style.display = 'none';
        if (qrGenerator) qrGenerator.style.display = 'block';
        
        updateGeneratedQR();
        
        if (ecdSelectForQR) {
            ecdSelectForQR.removeEventListener('change', updateGeneratedQR); // Prevent duplicate listeners
            ecdSelectForQR.addEventListener('change', updateGeneratedQR);
        }
    } catch (error) {
        console.error('Error showing QR generator:', error);
    }
}

function updateGeneratedQR() {
    try {
        const ecdSelect = document.getElementById('ecdSelectForQR');
        const qrCodeElement = document.getElementById('generatedQRCode');
        
        if (!ecdSelect || !qrCodeElement) return;
        
        const ecdName = ecdSelect.options[ecdSelect.selectedIndex]?.text;
        
        if (ecdName && ecdName !== 'Select an ECD center') {
            qrCodeElement.innerHTML = '';
            
            if (typeof QRCode !== 'undefined') {
                QRCode.toCanvas(qrCodeElement, `https://stokkinders.org/donate?ecd=${encodeURIComponent(ecdName)}`, {
                    width: 150,
                    margin: 2
                }, (error) => {
                    if (error) {
                        console.error('QR Code generation error:', error);
                        qrCodeElement.innerHTML = '<p>Error generating QR code</p>';
                    }
                });
            } else {
                qrCodeElement.innerHTML = '<p>QR Code library not available</p>';
            }
        }
    } catch (error) {
        console.error('Error updating generated QR:', error);
    }
}

function printQRCode() {
    try {
        const ecdSelect = document.getElementById('ecdSelectForQR');
        if (!ecdSelect) return;
        
        const ecdName = ecdSelect.options[ecdSelect.selectedIndex]?.text;
        
        if (!ecdName || ecdName === 'Select an ECD center') {
            alert('Please select an ECD center first');
            return;
        }
        
        const canvas = document.querySelector('#generatedQRCode canvas');
        if (!canvas) {
            alert('QR code not generated. Please wait and try again.');
            return;
        }
        
        const printWindow = window.open('', '_blank');
        const qrDataUrl = canvas.toDataURL();
        
        printWindow.document.write(`
            <!DOCTYPE html>
            <html>
            <head>
                <title>StokKinders QR Code - ${escapeHtml(ecdName)}</title>
                <style>
                    body { 
                        font-family: Arial, sans-serif; 
                        text-align: center; 
                        padding: 2rem; 
                        margin: 0;
                    }
                    h1 { 
                        color: #FF8C00; 
                        margin-bottom: 1rem; 
                    }
                    p { 
                        color: #666; 
                        margin-bottom: 2rem; 
                    }
                    .qr-image {
                        margin: 2rem 0;
                    }
                    .instructions { 
                        background-color: #f5f5f5; 
                        padding: 1rem; 
                        border-radius: 5px; 
                        margin-top: 2rem;
                        max-width: 600px;
                        margin-left: auto;
                        margin-right: auto;
                    }
                    @media print {
                        body { margin: 0; }
                        .instructions { break-inside: avoid; }
                    }
                </style>
            </head>
            <body>
                <h1>StokKinders Donation QR Code</h1>
                <p>Scan this code to donate to ${escapeHtml(ecdName)}</p>
                <div class="qr-image">
                    <img src="${qrDataUrl}" width="300" height="300" alt="QR Code for ${escapeHtml(ecdName)}">
                </div>
                <div class="instructions">
                    <p><strong>Instructions:</strong> Print this page and display it at your ECD center or share it with potential donors.</p>
                    <p>Donors can scan the QR code with their phone camera to quickly access the donation page.</p>
                </div>
            </body>
            </html>
        `);
        
        printWindow.document.close();
        
        // Auto-print and close after a delay
        setTimeout(() => {
            printWindow.print();
            setTimeout(() => printWindow.close(), 1000);
        }, 500);
        
    } catch (error) {
        console.error('Error printing QR code:', error);
        alert('Unable to print QR code. Please try again.');
    }
}

function startQRScanner() {
    try {
        const scannerElement = document.getElementById('qrScanner');
        if (!scannerElement) return;
        
        scannerElement.innerHTML = `
            <div class="scanner-loading">
                <div class="spinner"></div>
                <p>QR Scanner is loading...</p>
            </div>
        `;
        
        // Simulate scanner interface
        setTimeout(() => {
            scannerElement.innerHTML = `
                <div class="scanner-interface">
                    <div class="scanner-overlay">
                        <div class="scanner-frame"></div>
                        <div class="scanner-line"></div>
                    </div>
                    <p class="scanner-instruction">Point your camera at a StokKinders QR code</p>
                    <button class="btn btn-secondary" onclick="document.getElementById('qrScanner').style.display='none'">Cancel</button>
                </div>
            `;
            
            // Add CSS for scanner animation
            const style = document.createElement('style');
            style.textContent = `
                .scanner-interface { position: relative; height: 300px; background: #000; border-radius: 8px; overflow: hidden; }
                .scanner-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); }
                .scanner-frame { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 200px; height: 200px; border: 4px solid #FF8C00; }
                .scanner-line { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 180px; height: 2px; background: #FF8C00; animation: scan 2s linear infinite; }
                .scanner-instruction { position: absolute; bottom: 40px; left: 0; right: 0; text-align: center; color: white; margin: 0; }
                @keyframes scan { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
                .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #FF8C00; border-radius: 50%; width: 40px; height: 40px; animation: spin 2s linear infinite; margin: 0 auto 1rem; }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
                .scanner-loading { text-align: center; padding: 2rem; }
            `;
            document.head.appendChild(style);
            
            // Simulate QR detection
            setTimeout(() => {
                const success = Math.random() > 0.3; // 70% success rate
                
                if (success) {
                    scannerElement.innerHTML = `
                        <div class="scanner-result success">
                            <div class="result-icon">âœ“</div>
                            <h3>QR Code Detected!</h3>
                            <p>Redirecting to Sunshine Kids ECD donation page...</p>
                            <button class="btn btn-primary" onclick="window.location.href='#donate'">Continue to Donate</button>
                            <button class="btn btn-secondary" onclick="document.getElementById('qrScanner').style.display='none'">Close</button>
                        </div>
                    `;
                } else {
                    scannerElement.innerHTML = `
                        <div class="scanner-result error">
                            <div class="result-icon">âœ—</div>
                            <h3>No QR Code Found</h3>
                            <p>Please try again or enter the ECD code manually.</p>
                            <button class="btn btn-primary" onclick="startQRScanner()">Try Again</button>
                            <button class="btn btn-secondary" onclick="document.getElementById('qrScanner').style.display='none'">Close</button>
                        </div>
                    `;
                }
                
                // Add result styling
                const resultStyle = document.createElement('style');
                resultStyle.textContent = `
                    .scanner-result { text-align: center; padding: 2rem; }
                    .result-icon { font-size: 4rem; margin-bottom: 1rem; }
                    .success .result-icon { color: #4CAF50; }
                    .error .result-icon { color: #ff5252; }
                    .scanner-result h3 { margin-bottom: 1rem; }
                    .scanner-result button { margin: 0.5rem; }
                `;
                document.head.appendChild(resultStyle);
                
            }, 3000);
        }, 1000);
        
    } catch (error) {
        console.error('Error starting QR scanner:', error);
        alert('Unable to start QR scanner. Please try again.');
    }
}

// Form validation with enhanced error handling
function initializeFormValidation() {
    try {
        const formButtons = [
            { id: 'donateSubmit', validator: validateDonationForm },
            { id: 'donorRegister', validator: validateDonorForm },
            { id: 'ecdRegister', validator: validateECDForm },
            { id: 'volunteerRegister', validator: validateVolunteerForm },
            { id: 'sendMessage', validator: validateContactForm },
            { id: 'saveSettings', validator: saveSettings }
        ];
        
        formButtons.forEach(({ id, validator }) => {
            const button = document.getElementById(id);
            if (button) {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    validator();
                });
            }
        });
    } catch (error) {
        console.error('Error initializing form validation:', error);
    }
}

// Enhanced form validation functions with better UX
function validateDonationForm() {
    try {
        const fields = [
            { id: 'ecdSelect', message: 'Please select an ECD center', validate: (el) => el.value !== '' },
            { id: 'fullName', message: 'Please enter your full name', validate: (el) => el.value.trim() !== '' },
            { id: 'email', message: 'Please enter a valid email address', validate: (el) => isValidEmail(el.value) }
        ];
        
        // Check required fields
        for (const field of fields) {
            const element = document.getElementById(field.id);
            if (!element || !field.validate(element)) {
                showValidationError(field.message, element);
                return false;
            }
        }
        
        // Check donation amount
        const selectedCard = document.querySelector('.donation-card.selected');
        if (!selectedCard) {
            showValidationError('Please select a donation amount');
            return false;
        }
        
        if (selectedCard.getAttribute('data-amount') === 'custom') {
            const customAmount = document.getElementById('customAmount');
            if (!customAmount || !customAmount.value.trim() || parseFloat(customAmount.value) <= 0) {
                showValidationError('Please enter a valid custom amount', customAmount);
                return false;
            }
        }
        
        showSuccessMessage('Donation form validated successfully. Redirecting to payment...');
        return true;
        
    } catch (error) {
        console.error('Error validating donation form:', error);
        showValidationError('An error occurred. Please try again.');
        return false;
    }
}

function validateDonorForm() {
    try {
        const fields = [
            { id: 'donorName', message: 'Please enter your full name', validate: (el) => el.value.trim() !== '' },
            { id: 'donorEmail', message: 'Please enter a valid email address', validate: (el) => isValidEmail(el.value) },
            { id: 'donorPassword', message: 'Password must be at least 8 characters long', validate: (el) => el.value.length >= 8 }
        ];
        
        for (const field of fields) {
            const element = document.getElementById(field.id);
            if (!element || !field.validate(element)) {
                showValidationError(field.message, element);
                return false;
            }
        }
        
        // Check password confirmation
        const password = document.getElementById('donorPassword');
        const confirmPassword = document.getElementById('donorConfirmPassword');
        if (password && confirmPassword && password.value !== confirmPassword.value) {
            showValidationError('Passwords do not match', confirmPassword);
            return false;
        }
        
        showSuccessMessage('Registration form validated successfully.');
        return true;
        
    } catch (error) {
        console.error('Error validating donor form:', error);
        showValidationError('An error occurred. Please try again.');
        return false;
    }
}

function validateECDForm() {
    try {
        const fields = [
            { id: 'ecdName', message: 'Please enter your ECD center name' },
            { id: 'ecdAddress', message: 'Please enter your physical address' },
            { id: 'ecdContact', message: 'Please enter a contact person' },
            { id: 'ecdEmail', message: 'Please enter a valid email address' },
            { id: 'ecdPhone', message: 'Please enter a phone number' },
            { id: 'ecdChildren', message: 'Please enter a valid number of children' },
            { id: 'ecdDescription', message: 'Please enter a description of your ECD center' },
            { id: 'ecdNeeds', message: 'Please describe your primary needs' }
        ];
        
        for (const field of fields) {
            const element = document.getElementById(field.id);
            if (!element || !element.value.trim()) {
                showValidationError(field.message, element);
                return false;
            }
        }
        
        // Validate email format
        const emailField = document.getElementById('ecdEmail');
        if (emailField && !isValidEmail(emailField.value)) {
            showValidationError('Please enter a valid email address', emailField);
            return false;
        }
        
        // Validate number of children
        const childrenField = document.getElementById('ecdChildren');
        if (childrenField && (isNaN(parseInt(childrenField.value)) || parseInt(childrenField.value) <= 0)) {
            showValidationError('Please enter a valid number of children', childrenField);
            return false;
        }
        
        showSuccessMessage('ECD registration form validated successfully.');
        return true;
        
    } catch (error) {
        console.error('Error validating ECD form:', error);
        showValidationError('An error occurred. Please try again.');
        return false;
    }
}

function validateVolunteerForm() {
    try {
        const fields = [
            { id: 'volunteerName', message: 'Please enter your full name' },
            { id: 'volunteerEmail', message: 'Please enter a valid email address' },
            { id: 'volunteerPhone', message: 'Please enter a phone number' },
            { id: 'volunteerLocation', message: 'Please enter your location' },
            { id: 'volunteerSkills', message: 'Please describe your skills' }
        ];
        
        for (const field of fields) {
            const element = document.getElementById(field.id);
            if (!element || !element.value.trim()) {
                showValidationError(field.message, element);
                return false;
            }
        }
        
        // Validate email
        const emailField = document.getElementById('volunteerEmail');
        if (emailField && !isValidEmail(emailField.value)) {
            showValidationError('Please enter a valid email address', emailField);
            return false;
        }
        
        // Check background check consent
        const backgroundCheck = document.getElementById('backgroundCheck');
        if (!backgroundCheck || !backgroundCheck.checked) {
            showValidationError('You must consent to a background check to volunteer');
            if (backgroundCheck) backgroundCheck.focus();
            return false;
        }
        
        showSuccessMessage('Volunteer registration form validated successfully.');
        return true;
        
    } catch (error) {
        console.error('Error validating volunteer form:', error);
        showValidationError('An error occurred. Please try again.');
        return false;
    }
}

function validateContactForm() {
    try {
        const fields = [
            { id: 'contactName', message: 'Please enter your name' },
            { id: 'contactEmail', message: 'Please enter a valid email address' },
            { id: 'contactSubject', message: 'Please enter a subject' },
            { id: 'contactMessage', message: 'Please enter your message' }
        ];
        
        for (const field of fields) {
            const element = document.getElementById(field.id);
            if (!element || !element.value.trim()) {
                showValidationError(field.message, element);
                return false;
            }
        }
        
        // Validate email
        const emailField = document.getElementById('contactEmail');
        if (emailField && !isValidEmail(emailField.value)) {
            showValidationError('Please enter a valid email address', emailField);
            return false;
        }
        
        showSuccessMessage('Contact form validated successfully. Message will be sent.');
        return true;
        
    } catch (error) {
        console.error('Error validating contact form:', error);
        showValidationError('An error occurred. Please try again.');
        return false;
    }
}

function saveSettings() {
    try {
        // In a real application, this would save settings to a backend
        showSuccessMessage('Settings saved successfully');
        return true;
    } catch (error) {
        console.error('Error saving settings:', error);
        showValidationError('Unable to save settings. Please try again.');
        return false;
    }
}

// Utility functions for better UX
function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email.trim());
}

function showValidationError(message, element = null) {
    // Remove any existing error messages
    removeExistingMessages();
    
    // Create error message element
    const errorDiv = document.createElement('div');
    errorDiv.className = 'validation-error';
    errorDiv.textContent = message;
    errorDiv.style.cssText = `
        background-color: #ffebee;
        color: #c62828;
        padding: 1rem;
        border-radius: 4px;
        margin: 1rem 0;
        border-left: 4px solid #c62828;
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1001;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideIn 0.3s ease-out;
    `;
    
    // Add animation
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `;
    document.head.appendChild(style);
    
    document.body.appendChild(errorDiv);
    
    // Focus on the problematic element if provided
    if (element) {
        element.focus();
        element.style.borderColor = '#c62828';
        
        // Remove red border after user starts typing
        const removeRedBorder = () => {
            element.style.borderColor = '';
            element.removeEventListener('input', removeRedBorder);
            element.removeEventListener('change', removeRedBorder);
        };
        element.addEventListener('input', removeRedBorder);
        element.addEventListener('change', removeRedBorder);
    }
    
    // Auto-remove after 5 seconds
    setTimeout(() => {
        if (errorDiv.parentNode) {
            errorDiv.remove();
        }
    }, 5000);
}

function showSuccessMessage(message) {
    // Remove any existing messages
    removeExistingMessages();
    
    const successDiv = document.createElement('div');
    successDiv.className = 'validation-success';
    successDiv.textContent = message;
    successDiv.style.cssText = `
        background-color: #e8f5e8;
        color: #2e7d32;
        padding: 1rem;
        border-radius: 4px;
        margin: 1rem 0;
        border-left: 4px solid #4caf50;
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1001;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideIn 0.3s ease-out;
    `;
    
    document.body.appendChild(successDiv);
    
    // Auto-remove after 3 seconds
    setTimeout(() => {
        if (successDiv.parentNode) {
            successDiv.remove();
        }
    }, 3000);
}

function removeExistingMessages() {
    const existingMessages = document.querySelectorAll('.validation-error, .validation-success');
    existingMessages.forEach(msg => msg.remove());
}

// Performance monitoring and error handling
function handleGlobalErrors() {
    window.addEventListener('error', (event) => {
        console.error('Global error:', event.error);
        // In production, you might want to send this to an error tracking service
    });
    
    window.addEventListener('unhandledrejection', (event) => {
        console.error('Unhandled promise rejection:', event.reason);
        // In production, you might want to send this to an error tracking service
    });
}

// Initialize error handling
handleGlobalErrors();

// Additional utility functions for enhanced functionality
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

function throttle(func, limit) {
    let inThrottle;
    return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    };
}

// Enhanced keyboard navigation support
function initializeKeyboardNavigation() {
    document.addEventListener('keydown', (e) => {
        // Close modals with Escape key
        if (e.key === 'Escape') {
            const modals = document.querySelectorAll('.qr-code-container');
            modals.forEach(modal => {
                if (modal.parentNode) {
                    modal.parentNode.removeChild(modal);
                }
            });
        }
        
        // Handle Enter key for buttons
        if (e.key === 'Enter' && e.target.classList.contains('btn')) {
            e.target.click();
        }
    });
}

// Initialize keyboard navigation
document.addEventListener('DOMContentLoaded', initializeKeyboardNavigation);

// Lazy loading for better performance
function initializeLazyLoading() {
    const images = document.querySelectorAll('img[data-src]');
    
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src;
                    img.classList.remove('lazy');
                    imageObserver.unobserve(img);
                }
            });
        });
        
        images.forEach(img => imageObserver.observe(img));
    } else {
        // Fallback for older browsers
        images.forEach(img => {
            img.src = img.dataset.src;
            img.classList.remove('lazy');
        });
    }
}

// Initialize lazy loading when DOM is ready
document.addEventListener('DOMContentLoaded', initializeLazyLoading);

// Service Worker registration for offline functionality (if available)
function registerServiceWorker() {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => {
                console.log('Service Worker registered successfully:', registration);
            })
            .catch(error => {
                console.log('Service Worker registration failed:', error);
            });
    }
}

// Register service worker when page loads
window.addEventListener('load', registerServiceWorker);

// Export functions for testing purposes (if running in a module environment)
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        validateDonationForm,
        validateDonorForm,
        validateECDForm,
        validateVolunteerForm,
        validateContactForm,
        isValidEmail,
        generateQR,
        debounce,
        throttle
    };
}
    </script>
</body>
</html>